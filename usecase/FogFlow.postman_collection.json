{
	"info": {
		"_postman_id": "19a0ee26-81af-4511-828a-7a396dcaa020",
		"name": "FogFlow Use Case",
		"description": "Aqui estão presentes as principais requisições que podem ser realizadas no FogFlow.\n\n\n\n@author Thiago Pereira",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Orion+Cygnus+STH",
			"item": [
				{
					"name": "Orion - Connect FogFlow to Orion",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Destination",
								"value": "orion-broker",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"entities\": [\n        {\n        \t\"id\": \".*\",\n            \"type\": \"VehicleType\",\n            \"isPattern\": true\n        }\n    ],\n    \"reference\": \"http://10.7.128.15:1026/v2\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/subscribeContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"subscribeContext"
							]
						},
						"description": "Create a subscription on FogFlow in order to notify Orion broker"
					},
					"response": []
				},
				{
					"name": "Cygnus - Connect Cygnus to Orion",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"entities\": [\n        {\n            \"isPattern\": \"true\",\n            \"id\": \".*\",\n            \"type\": \"VehicleType\"\n        }\n    ],\n    \"attributes\": [],\n    \"reference\": \"http://10.7.128.15:5050/notify\",\n    \"notifyConditions\": [\n        {\n            \"type\": \"ONCHANGE\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{orion_broker}}/v1/subscribeContext",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v1",
								"subscribeContext"
							]
						},
						"description": "Connect Cygnus to Orion. Please check the ports!"
					},
					"response": []
				},
				{
					"name": "STH - get historical data",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "FIWARE-ServicePath",
								"value": "/",
								"type": "text"
							},
							{
								"key": "FIWARE-Service",
								"value": "default",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{sth_comet}}/STH/v1/contextEntities/type/VehicleType/id/Device.VehicleType.987654321/attributes/url?hLimit=10&hOffset=0",
							"protocol": "http",
							"host": [
								"{{sth_comet}}"
							],
							"path": [
								"STH",
								"v1",
								"contextEntities",
								"type",
								"VehicleType",
								"id",
								"Device.VehicleType.987654321",
								"attributes",
								"url"
							],
							"query": [
								{
									"key": "hLimit",
									"value": "10"
								},
								{
									"key": "hOffset",
									"value": "0"
								}
							]
						},
						"description": "Get a specific entity historial data from STH_Comet"
					},
					"response": []
				},
				{
					"name": "Orion - get all subscriptions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://{{orion_broker}}/v2/subscriptions",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v2",
								"subscriptions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Orion - delete subscription",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://{{orion_broker}}/v2/subscriptions/5daf0644118fec421be679db",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v2",
								"subscriptions",
								"5daf0644118fec421be679db"
							]
						}
					},
					"response": []
				},
				{
					"name": "Orion - get all registrations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://{{orion_broker}}/v2/registrations",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v2",
								"registrations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Orion - get all entities",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://{{orion_broker}}/v2/entities",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v2",
								"entities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Orion - updateContext",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"id\": \"Device.Lampada.id2\",\n            \"type\": \"PowerPanel\",\n            \"isPattern\": false,\n            \"attributes\": [\n                {\n                    \"name\": \"usage\",\n                    \"type\": \"integer\",\n                    \"value\": 999\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"APPEND\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{orion_broker}}/v1/updateContext",
							"protocol": "http",
							"host": [
								"{{orion_broker}}"
							],
							"path": [
								"v1",
								"updateContext"
							]
						}
					},
					"response": []
				}
			],
			"description": "Scrips para integração doo FogFlow com o broker Orion e os GEs Cygnus e STH",
			"protocolProfileBehavior": {}
		},
		{
			"name": "FogFlow",
			"item": [
				{
					"name": "subscribeEntityContext - webhook",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"entities\": [\n        {\n            \"id\": \"VehicleCounting\",\n            \"isPattern\": true\n        }\n    ],\n    \"reference\": \"http://webhook.site/cc11d2c8-7368-4dcb-910d-e5e3c0a5540b\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/subscribeContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"subscribeContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "subscribeEntityContext - Anomaly",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"entities\": [\n        {\n            \"id\": \"anomaly.*\",\n            \"isPattern\": true\n        }\n    ],\n    \"reference\": \"http://webhook.site/7fbe3282-cff5-46d6-8e66-48760f6104b5\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/subscribeContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"subscribeContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "subscription - get all subscriptions",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/subscription",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"subscription"
							]
						},
						"description": "Return all subscriptions"
					},
					"response": []
				},
				{
					"name": "subscription - delete a subscription",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/subscription/34fd3d0c-9e28-4cfd-850d-2105c52d44a0",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"subscription",
								"34fd3d0c-9e28-4cfd-850d-2105c52d44a0"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntityContext - Camera",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"Device.Camera.id.camera\",\n                \"type\": \"Camera\",\n                \"isPattern\": false\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"url\",\n                    \"type\": \"string\",\n                    \"value\": \"http://10.7.40.146:8080/photo/lostchild.png\"\n                },\n                {\n                    \"name\": \"iconURL\",\n                    \"type\": \"string\",\n                    \"value\": \"/photo/camera.png\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"point\",\n                    \"value\": {\n                        \"latitude\": 36.192221,\n                        \"longitude\": 138.109059\n                    }\n                },\n                {\n                    \"name\": \"shop\",\n                    \"type\": \"string\",\n                    \"value\": \"IMD\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntityContext - Room",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"type\": \"Room\",\n                \"isPattern\": false,\n                \"id\": \"Room.id\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"temperature\",\n                    \"type\": \"float\",\n                    \"value\": \"26.5\",\n                    \"metadatas\": [\n                        {\n                            \"name\": \"accuracy\",\n                            \"type\": \"float\",\n                            \"value\": \"0.8\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"APPEND\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntityContext - PowerPanel",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"Device.PowerPanel.b92e9c1f-7c18-4442-92d6-81e1106cd105\",\n                \"type\": \"PowerPanel\",\n                \"isPattern\": false\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"usage\",\n                    \"type\": \"integer\",\n                    \"value\": 2\n                },\n                {\n                    \"name\": \"shop\",\n                    \"type\": \"string\",\n                    \"value\": \"id2\"\n                },\n                {\n                    \"name\": \"iconURL\",\n                    \"type\": \"string\",\n                    \"value\": \"/photo/camera.png\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"point\",\n                    \"value\": {\n                        \"latitude\": 36.00467348670187,\n                        \"longitude\": 139.84497070312503\n                    }\n                },\n                {\n                    \"name\": \"shop\",\n                    \"type\": \"string\",\n                    \"value\": \"IMD\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntityContext - CameraMotion",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"Device.CameraMotion.id\",\n                \"type\": \"CameraMotion\",\n                \"isPattern\": false\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"url\",\n                    \"type\": \"string\",\n                    \"value\": \"http://10.7.162.10:8090/smart-pole-01_2019-10-17_15-57-55-145101_Up-Right.jpg\"\n                },\n                {\n                    \"name\": \"timestamp\",\n                    \"type\": \"string\",\n                    \"value\": \"2019-10-16_11-00-49-503255\"\n                },\n                {\n                    \"name\": \"direction\",\n                    \"type\": \"string\",\n                    \"value\": \"Up-Right\"\n                },\n                {\n                    \"name\": \"iconURL\",\n                    \"type\": \"string\",\n                    \"value\": \"/img/camera.png\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"point\",\n                    \"value\": {\n                        \"latitude\": 35.24703,\n                        \"longitude\": 136.886218\n                    }\n                },\n                {\n                    \"name\": \"cameraID\",\n                    \"type\": \"string\",\n                    \"value\": \"smart-pole-01\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntityContext - VehicleType",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"Device.VehicleType.987654321\",\n                \"type\": \"VehicleType\",\n                \"isPattern\": false\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"url\",\n                    \"type\": \"string\",\n                    \"value\": \"http://10.7.162.10:8090/smart-pole-01_2019-10-21_11-00-39-503255_Up-Right.jpg\"\n                },\n                {\n                    \"name\": \"timestamp\",\n                    \"type\": \"string\",\n                    \"value\": \"2019-10-28_11-00-49-503255\"\n                },\n                {\n                    \"name\": \"class\",\n                    \"type\": \"string\",\n                    \"value\": \"car\"\n                },\n                {\n                    \"name\": \"direction\",\n                    \"type\": \"string\",\n                    \"value\": \"Up-Right\"\n                },\n                {\n                    \"name\": \"iconURL\",\n                    \"type\": \"string\",\n                    \"value\": \"/img/camera.png\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"cameraID\",\n                    \"type\": \"string\",\n                    \"value\": \"smart-pole-01\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				},
				{
					"name": "queryEntity - Return all entities",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/entity",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"entity"
							]
						}
					},
					"response": []
				},
				{
					"name": "deleteEntity - delete a specific entity",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/entity/Stream.VehicleType",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"entity",
								"Stream.VehicleType"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateEntitySream - ChildInfo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"ChildLost.55\",\n                \"type\": \"ChildLost\",\n                \"isPattern\": false\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"imageURL\",\n                    \"type\": \"string\",\n                    \"value\": \"http://10.7.40.146:8080/photo/lostchild.png\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
							"protocol": "http",
							"host": [
								"{{fogflow_broker}}"
							],
							"path": [
								"ngsi10",
								"updateContext"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Device - timestamp",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{beagle_bone}}/timestamp",
					"protocol": "http",
					"host": [
						"{{beagle_bone}}"
					],
					"path": [
						"timestamp"
					]
				},
				"description": "http://10.7.162.10:8090/timestamp"
			},
			"response": []
		},
		{
			"name": "cAdvisor",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{beagle_bone}}/timestamp",
					"protocol": "http",
					"host": [
						"{{beagle_bone}}"
					],
					"path": [
						"timestamp"
					]
				},
				"description": "http://10.7.162.10:8090/timestamp"
			},
			"response": []
		},
		{
			"name": "Use case - video parking control - Fog Functions",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"ObjectDetector\",\n                \"type\": \"Operator\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"Parameter\",\n                                \"values\": {\n                                    \"name\": \"CameraMotion\",\n                                    \"values\": [\n                                        \"default\"\n                                    ]\n                                },\n                                \"x\": -427.5,\n                                \"y\": -97\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Operator\",\n                                \"values\": {\n                                    \"description\": \"\",\n                                    \"name\": \"ObjectDetector\"\n                                },\n                                \"x\": -103.5,\n                                \"y\": -91\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"parameter\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"parameters\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"ObjectDetector\",\n                        \"parameters\": [\n                            {\n                                \"name\": \"CameraMotion\",\n                                \"values\": [\n                                    \"default\"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"VehicleCounter\",\n                \"type\": \"Operator\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"Parameter\",\n                                \"values\": {\n                                    \"name\": \"VehicleType\",\n                                    \"values\": [\n                                        \"default\"\n                                    ]\n                                },\n                                \"x\": -418.5,\n                                \"y\": -132\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Operator\",\n                                \"values\": {\n                                    \"description\": \"\",\n                                    \"name\": \"VehicleCounter\"\n                                },\n                                \"x\": -168.5,\n                                \"y\": -132\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"parameter\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"parameters\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"VehicleCounter\",\n                        \"parameters\": [\n                            {\n                                \"name\": \"VehicleType\",\n                                \"values\": [\n                                    \"default\"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"aluiziorocha/object_detector:latest\",\n                \"type\": \"DockerImage\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"image\",\n                    \"type\": \"string\",\n                    \"value\": \"aluiziorocha/object_detector\"\n                },\n                {\n                    \"name\": \"tag\",\n                    \"type\": \"string\",\n                    \"value\": \"latest\"\n                },\n                {\n                    \"name\": \"hwType\",\n                    \"type\": \"string\",\n                    \"value\": \"ARM\"\n                },\n                {\n                    \"name\": \"osType\",\n                    \"type\": \"string\",\n                    \"value\": \"Linux\"\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"ObjectDetector\"\n                },\n                {\n                    \"name\": \"prefetched\",\n                    \"type\": \"boolean\",\n                    \"value\": false\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"ObjectDetector\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"thiagopereirasilva/vehicle_counter:latest\",\n                \"type\": \"DockerImage\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"image\",\n                    \"type\": \"string\",\n                    \"value\": \"thiagopereirasilva/vehicle_counter\"\n                },\n                {\n                    \"name\": \"tag\",\n                    \"type\": \"string\",\n                    \"value\": \"latest\"\n                },\n                {\n                    \"name\": \"hwType\",\n                    \"type\": \"string\",\n                    \"value\": \"X86\"\n                },\n                {\n                    \"name\": \"osType\",\n                    \"type\": \"string\",\n                    \"value\": \"Linux\"\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"VehicleCounter\"\n                },\n                {\n                    \"name\": \"prefetched\",\n                    \"type\": \"boolean\",\n                    \"value\": false\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"VehicleCounter\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"FogFunction.ObjectDetector_Function\",\n                \"type\": \"FogFunction\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"name\",\n                    \"type\": \"string\",\n                    \"value\": \"ObjectDetector_Function\"\n                },\n                {\n                    \"name\": \"topology\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"ObjectDetector_Function\",\n                        \"tasks\": [\n                            {\n                                \"input_streams\": [\n                                    {\n                                        \"groupby\": \"EntityID\",\n                                        \"scoped\": true,\n                                        \"selected_attributes\": [],\n                                        \"selected_type\": \"CameraMotion\"\n                                    }\n                                ],\n                                \"name\": \"ObjectDetector_Task\",\n                                \"operator\": \"ObjectDetector\",\n                                \"output_streams\": [\n                                    {\n                                        \"entity_type\": \"VehicleType\"\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"EntityStream\",\n                                \"values\": {\n                                    \"groupby\": \"ALL\",\n                                    \"scoped\": true,\n                                    \"selectedattributes\": [\n                                        \"all\"\n                                    ],\n                                    \"selectedtype\": \"CameraMotion\"\n                                },\n                                \"x\": -297,\n                                \"y\": -122\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Task\",\n                                \"values\": {\n                                    \"name\": \"ObjectDetector_Task\",\n                                    \"operator\": \"ObjectDetector\",\n                                    \"outputs\": [\n                                        \"VehicleType\"\n                                    ]\n                                },\n                                \"x\": -83,\n                                \"y\": -80\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"stream\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"streams\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"intent\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"geoscope\": {\n                            \"scopeType\": \"global\",\n                            \"scopeValue\": \"global\"\n                        },\n                        \"priority\": {\n                            \"exclusive\": false,\n                            \"level\": 0\n                        },\n                        \"qos\": \"default\",\n                        \"topology\": \"ObjectDetector_Function\"\n                    }\n                },\n                {\n                    \"name\": \"status\",\n                    \"type\": \"string\",\n                    \"value\": \"enabled\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"FogFunction.VehicleCounter_Function\",\n                \"type\": \"FogFunction\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"name\",\n                    \"type\": \"string\",\n                    \"value\": \"VehicleCounter_Function\"\n                },\n                {\n                    \"name\": \"topology\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"VehicleCounter_Function\",\n                        \"tasks\": [\n                            {\n                                \"input_streams\": [\n                                    {\n                                        \"groupby\": \"EntityID\",\n                                        \"scoped\": false,\n                                        \"selected_attributes\": [],\n                                        \"selected_type\": \"VehicleType\"\n                                    }\n                                ],\n                                \"name\": \"VehicleCounter_Task\",\n                                \"operator\": \"VehicleCounter\",\n                                \"output_streams\": [\n                                    {\n                                        \"entity_type\": \"VehicleCounting\"\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"EntityStream\",\n                                \"values\": {\n                                    \"groupby\": \"ALL\",\n                                    \"scoped\": false,\n                                    \"selectedattributes\": [\n                                        \"all\"\n                                    ],\n                                    \"selectedtype\": \"VehicleType\"\n                                },\n                                \"x\": -360,\n                                \"y\": -135\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Task\",\n                                \"values\": {\n                                    \"name\": \"VehicleCounter_Task\",\n                                    \"operator\": \"VehicleCounter\",\n                                    \"outputs\": [\n                                        \"VehicleCounting\"\n                                    ]\n                                },\n                                \"x\": -142,\n                                \"y\": -85\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"stream\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"streams\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"intent\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"geoscope\": {\n                            \"scopeType\": \"global\",\n                            \"scopeValue\": \"global\"\n                        },\n                        \"priority\": {\n                            \"exclusive\": false,\n                            \"level\": 0\n                        },\n                        \"qos\": \"default\",\n                        \"topology\": \"VehicleCounter_Function\"\n                    }\n                },\n                {\n                    \"name\": \"status\",\n                    \"type\": \"string\",\n                    \"value\": \"enabled\"\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
					"protocol": "http",
					"host": [
						"{{fogflow_broker}}"
					],
					"path": [
						"ngsi10",
						"updateContext"
					]
				}
			},
			"response": []
		},
		{
			"name": "Use case - video parking control - Service Topology",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"contextElements\": [\n        {\n            \"entityId\": {\n                \"id\": \"ObjectDetector\",\n                \"type\": \"Operator\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"Parameter\",\n                                \"values\": {\n                                    \"name\": \"CameraMotion\",\n                                    \"values\": [\n                                        \"default\"\n                                    ]\n                                },\n                                \"x\": -427.5,\n                                \"y\": -97\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Operator\",\n                                \"values\": {\n                                    \"description\": \"\",\n                                    \"name\": \"ObjectDetector\"\n                                },\n                                \"x\": -103.5,\n                                \"y\": -91\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"parameter\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"parameters\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"ObjectDetector\",\n                        \"parameters\": [\n                            {\n                                \"name\": \"CameraMotion\",\n                                \"values\": [\n                                    \"default\"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"VehicleCounter\",\n                \"type\": \"Operator\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"Parameter\",\n                                \"values\": {\n                                    \"name\": \"VehicleType\",\n                                    \"values\": [\n                                        \"default\"\n                                    ]\n                                },\n                                \"x\": -418.5,\n                                \"y\": -132\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Operator\",\n                                \"values\": {\n                                    \"description\": \"\",\n                                    \"name\": \"VehicleCounter\"\n                                },\n                                \"x\": -168.5,\n                                \"y\": -132\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"parameter\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"parameters\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"VehicleCounter\",\n                        \"parameters\": [\n                            {\n                                \"name\": \"VehicleType\",\n                                \"values\": [\n                                    \"default\"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"aluiziorocha/object_detector:latest\",\n                \"type\": \"DockerImage\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"image\",\n                    \"type\": \"string\",\n                    \"value\": \"aluiziorocha/object_detector\"\n                },\n                {\n                    \"name\": \"tag\",\n                    \"type\": \"string\",\n                    \"value\": \"latest\"\n                },\n                {\n                    \"name\": \"hwType\",\n                    \"type\": \"string\",\n                    \"value\": \"ARM\"\n                },\n                {\n                    \"name\": \"osType\",\n                    \"type\": \"string\",\n                    \"value\": \"Linux\"\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"ObjectDetector\"\n                },\n                {\n                    \"name\": \"prefetched\",\n                    \"type\": \"boolean\",\n                    \"value\": false\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"ObjectDetector\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"thiagopereirasilva/vehicle_counter:latest\",\n                \"type\": \"DockerImage\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"image\",\n                    \"type\": \"string\",\n                    \"value\": \"thiagopereirasilva/vehicle_counter\"\n                },\n                {\n                    \"name\": \"tag\",\n                    \"type\": \"string\",\n                    \"value\": \"latest\"\n                },\n                {\n                    \"name\": \"hwType\",\n                    \"type\": \"string\",\n                    \"value\": \"X86\"\n                },\n                {\n                    \"name\": \"osType\",\n                    \"type\": \"string\",\n                    \"value\": \"Linux\"\n                },\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"VehicleCounter\"\n                },\n                {\n                    \"name\": \"prefetched\",\n                    \"type\": \"boolean\",\n                    \"value\": false\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"operator\",\n                    \"type\": \"string\",\n                    \"value\": \"VehicleCounter\"\n                }\n            ]\n        },\n        {\n            \"entityId\": {\n                \"id\": \"Topology.VehicleCounter_Topology\",\n                \"type\": \"Topology\"\n            },\n            \"attributes\": [\n                {\n                    \"name\": \"status\",\n                    \"type\": \"string\",\n                    \"value\": \"enabled\"\n                },\n                {\n                    \"name\": \"designboard\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"blocks\": [\n                            {\n                                \"id\": 1,\n                                \"module\": null,\n                                \"type\": \"EntityStream\",\n                                \"values\": {\n                                    \"groupby\": \"EntityType\",\n                                    \"scoped\": true,\n                                    \"selectedattributes\": [\n                                        \"all\"\n                                    ],\n                                    \"selectedtype\": \"CameraMotion\"\n                                },\n                                \"x\": -500,\n                                \"y\": -140\n                            },\n                            {\n                                \"id\": 2,\n                                \"module\": null,\n                                \"type\": \"Task\",\n                                \"values\": {\n                                    \"name\": \"ObjectDetector_Task\",\n                                    \"operator\": \"ObjectDetector\",\n                                    \"outputs\": [\n                                        \"VehicleType\"\n                                    ]\n                                },\n                                \"x\": -256.5,\n                                \"y\": -122\n                            },\n                            {\n                                \"id\": 3,\n                                \"module\": null,\n                                \"type\": \"Shuffle\",\n                                \"values\": {\n                                    \"groupby\": \"ALL\",\n                                    \"selectedattributes\": [\n                                        \"all\"\n                                    ]\n                                },\n                                \"x\": -67.5,\n                                \"y\": -107\n                            },\n                            {\n                                \"id\": 4,\n                                \"module\": null,\n                                \"type\": \"Task\",\n                                \"values\": {\n                                    \"name\": \"VehicleCounter_Task\",\n                                    \"operator\": \"VehicleCounter\",\n                                    \"outputs\": [\n                                        \"Out\"\n                                    ]\n                                },\n                                \"x\": 120.5,\n                                \"y\": -106\n                            }\n                        ],\n                        \"edges\": [\n                            {\n                                \"block1\": 2,\n                                \"block2\": 3,\n                                \"connector1\": [\n                                    \"outputs\",\n                                    \"output\",\n                                    0\n                                ],\n                                \"connector2\": [\n                                    \"in\",\n                                    \"input\"\n                                ],\n                                \"id\": 1\n                            },\n                            {\n                                \"block1\": 1,\n                                \"block2\": 2,\n                                \"connector1\": [\n                                    \"stream\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"streams\",\n                                    \"input\"\n                                ],\n                                \"id\": 2\n                            },\n                            {\n                                \"block1\": 3,\n                                \"block2\": 4,\n                                \"connector1\": [\n                                    \"stream\",\n                                    \"output\"\n                                ],\n                                \"connector2\": [\n                                    \"streams\",\n                                    \"input\"\n                                ],\n                                \"id\": 3\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"name\": \"template\",\n                    \"type\": \"object\",\n                    \"value\": {\n                        \"description\": \"\",\n                        \"name\": \"VehicleCounter_Topology\",\n                        \"tasks\": [\n                            {\n                                \"input_streams\": [\n                                    {\n                                        \"groupby\": \"EntityType\",\n                                        \"scoped\": true,\n                                        \"selected_attributes\": [],\n                                        \"selected_type\": \"CameraMotion\"\n                                    }\n                                ],\n                                \"name\": \"ObjectDetector_Task\",\n                                \"operator\": \"ObjectDetector\",\n                                \"output_streams\": [\n                                    {\n                                        \"entity_type\": \"VehicleType\"\n                                    }\n                                ]\n                            },\n                            {\n                                \"input_streams\": [\n                                    {\n                                        \"groupby\": \"ALL\",\n                                        \"scoped\": true,\n                                        \"selected_attributes\": [],\n                                        \"selected_type\": \"VehicleType\"\n                                    }\n                                ],\n                                \"name\": \"VehicleCounter_Task\",\n                                \"operator\": \"VehicleCounter\",\n                                \"output_streams\": [\n                                    {\n                                        \"entity_type\": \"Out\"\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ],\n            \"domainMetadata\": [\n                {\n                    \"name\": \"location\",\n                    \"type\": \"global\",\n                    \"value\": \"global\"\n                }\n            ]\n        }\n    ],\n    \"updateAction\": \"UPDATE\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{fogflow_broker}}/ngsi10/updateContext",
					"protocol": "http",
					"host": [
						"{{fogflow_broker}}"
					],
					"path": [
						"ngsi10",
						"updateContext"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "c0229588-74cc-4f53-916d-0f4bd49478ba",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "2cd09577-6472-4d80-a93b-b3ed4dcb2805",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "7c30221c-3a28-4daa-ab97-ad8582f1082b",
			"key": "fogflow_broker",
			"value": "10.7.40.146:8070",
			"type": "string"
		},
		{
			"id": "c1edd397-3e60-488b-a3ef-d53e38f3840e",
			"key": "orion_broker",
			"value": "10.7.128.15:1026",
			"type": "string"
		},
		{
			"id": "90c380c2-22ef-4eea-b68e-3c7811ab092d",
			"key": "cygnus",
			"value": "10.7.128.15:5050",
			"type": "string"
		},
		{
			"id": "5680a1fc-b370-4e01-8373-9e1d2e972a29",
			"key": "sth_comet",
			"value": "10.7.128.15:8666",
			"type": "string"
		},
		{
			"id": "6f478031-3d34-4e6e-a93e-647a1d17fa18",
			"key": "beagle_bone",
			"value": "10.7.162.10:8090",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}